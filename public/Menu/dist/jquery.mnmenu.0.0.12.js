(function($){$.fn.mnmenu=function(b){var c={};if(typeof b!=='undefined'&&typeof b.levelSettings!=='undefined'){c=b.levelSettings;delete b.levelSettings}var d=$.extend({},$.fn.mnmenu.defaults,b);d.levelSettings=$.extend({},d.levelSettings,c);return this.each(function(){var a=$(this);if(a.prop("tagName").toUpperCase()!=="UL"){$.error("This function can only be called in <ul> elements.")}a.addClass(d.menuClassName);$.fn.mnmenu.levelRecursion(d,a,0);a.find("ul").each(function(){$(this).css("display","none")});a.find("li").each(function(){$(this).mouseenter(function(){$.fn.mnmenu.mouseEnter($(this),d)});$(this).mouseleave(function(){$.fn.mnmenu.mouseLeave($(this),d)})})})};$.fn.mnmenu.mouseEnter=function(l,m){var n=$(window).width();clearTimeout(l.data('timer'));$.fn.mnmenu.elementsToHover(l,m).each(function(){$(this).addClass(m.hoverClassName)});l.children("ul").each(function(){var a=$(this);var b=a.parent("li");var c=b.closest("ul");if(a.is(":animated")){a.stop(true,true).show()}else{var d=1;var e=b;while(e.get(0)!==$(document).get(0)){var f=parseInt(e.css("z-index"));if(!isNaN(f)&&f>d){d=f}e=e.parent()}a.css("z-index",d+1);var g=0;var h=a[0].className.split(/\s+/);for(var i=0;i<h.length;i++){if(h[i].indexOf([m.levelClassPrefix,'-'].join(''))>=0){g=parseInt(h[i].substring(m.levelClassPrefix.length+1))}}var j=m.levelSettings[g];if(typeof j==="undefined"){j=m.levelSettings[0]}var k="auto",right="auto",top="auto",bottom="auto";if(j.parentAttachmentPosition.toUpperCase().indexOf("W")>=0&&j.attachmentPosition.toUpperCase().indexOf("E")>=0){right=b.outerWidth()+"px";if(b.offset().left-a.outerWidth()<0){k=b.outerWidth()+"px";right="auto"}}else if(j.parentAttachmentPosition.toUpperCase().indexOf("E")>=0&&j.attachmentPosition.toUpperCase().indexOf("E")>=0){right="0px"}else if(j.parentAttachmentPosition.toUpperCase().indexOf("E")>=0&&j.attachmentPosition.toUpperCase().indexOf("W")>=0){k=b.outerWidth()+"px";if((c.offset().left+c.outerWidth()+a.outerWidth())>n){k="auto";right=b.outerWidth()+"px"}}else if(j.parentAttachmentPosition.toUpperCase().indexOf("W")>=0&&j.attachmentPosition.toUpperCase().indexOf("W")>=0){k="0px"}if(j.parentAttachmentPosition.toUpperCase().indexOf("N")>=0&&j.attachmentPosition.toUpperCase().indexOf("S")>=0){bottom=b.outerHeight()+"px"}else if(j.parentAttachmentPosition.toUpperCase().indexOf("S")>=0&&j.attachmentPosition.toUpperCase().indexOf("S")>=0){bottom="0px"}else if(j.parentAttachmentPosition.toUpperCase().indexOf("S")>=0&&j.attachmentPosition.toUpperCase().indexOf("N")>=0){top=b.outerHeight()+"px"}else if(j.parentAttachmentPosition.toUpperCase().indexOf("N")>=0&&j.attachmentPosition.toUpperCase().indexOf("N")>=0){top="0px"}a.css("left",k);a.css("right",right);a.css("top",top);a.css("bottom",bottom);a.slideDown(m.duration)}})};$.fn.mnmenu.mouseLeave=function(b,c){clearTimeout(b.data('timer'));$.fn.mnmenu.elementsToHover(b,c).each(function(){$(this).removeClass(c.hoverClassName)});b.children("ul").each(function(){var a=$(this);b.data('timer',setTimeout(function(){a.hide(c.duration)},c.delay))})};$.fn.mnmenu.elementsToHover=function(a,b){return $([a,a.children(":not(ul)")])};$.fn.mnmenu.levelRecursion=function(b,c,d){if(c.prop("tagName").toUpperCase()==="LI"){var e=true;if(c.parent().children().first().get(0)===c.get(0)){c.parent().closest("li").append($(["<span ","class='",b.arrowClassName,"'></span>"].join("")).append(b.arrowCharacter));c.addClass(b.firstClassName);e=false}if(c.parent().children().last().get(0)===c.get(0)){c.addClass(b.lastClassName);e=false}if(e){c.addClass(b.middleClassName)}d++}c.children().each(function(){var a=$(this);a.addClass(b.levelClassPrefix+"-"+d);$.fn.mnmenu.levelRecursion(b,a,d)})};$.fn.mnmenu.defaults={menuClassName:"mnmenu",hoverClassName:"hover",levelClassPrefix:"level",arrowClassName:"arrow",arrowCharacter:" &#187;",firstClassName:"first",middleClassName:"middle",lastClassName:"last",delay:150,duration:250,defaultParentAttachmentPosition:"NE",defaultAttachmentPosition:"NW"};$.fn.mnmenu.defaults.levelSettings={};$.fn.mnmenu.defaults.levelSettings[0]=new MNLevelSettings();$.fn.mnmenu.defaults.levelSettings[1]=new MNLevelSettings();$.fn.mnmenu.defaults.levelSettings[1].parentAttachmentPosition="SW";$.fn.mnmenu.defaults.levelSettings[1].attachmentPosition="NW"})(jQuery);function MNLevelSettings(){this.parentAttachmentPosition=$.fn.mnmenu.defaults.defaultParentAttachmentPosition;this.attachmentPosition=$.fn.mnmenu.defaults.defaultAttachmentPosition;this.arrowCharacter=$.fn.mnmenu.defaults.arrowCharacter}