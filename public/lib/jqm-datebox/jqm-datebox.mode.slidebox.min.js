/*! jQuery-Mobile-DateBox  |2015-09-24T15:09:55Z | (c) 2010,  2015 JTSage | https://github.com/jtsage/jquery-mobile-datebox/blob/master/LICENSE.txt */

!function(a){a.extend(a.mobile.datebox.prototype.options,{themeDatePick:"b",themeDate:"a",useSetButton:!0,validHours:!1,slen:{y:9,m:14,d:16,h:16,i:30}}),a.extend(a.mobile.datebox.prototype,{_sbox_pos:function(){var b,c,d,e,f,g=this;g.d.intHTML.find("div.ui-datebox-sliderow-int").each(function(){c=a(this),e=c.parent().outerWidth(),b=c.outerWidth(),d=g.__("isRTL")?c.find("div").last():c.find("div").first(),f=c.find("div").size()*d.outerWidth(),b>0&&(f=b),d.css("marginLeft",(f-e)/2*-1)})},_sbox_mktxt:{y:function(a){return["slideyear",this.theDate.get(0)+a]},m:function(a){var b=this.theDate.copy([0],[0,0,1]).adj(1,a);return["slidemonth",this.__("monthsOfYearShort")[b.get(1)]]},d:function(a){var b=this.theDate.copy([0,0,a]);return["slideday",b.get(2)+"<br /><span class='ui-datebox-slidewday'>"+this.__("daysOfWeekShort")[b.getDay()]+"</span>"]},h:function(a){var b=this.theDate.copy([0,0,0,a]);return["slidehour",12===this.__("timeFormat")?this._formatter("%-I<span class='ui-datebox-slidewday'>%p</span>",b):b.get(3)]},i:function(a){return["slidemins",this._zPad(this.theDate.copy([0,0,0,0,a]).get(4))]}}}),a.extend(a.mobile.datebox.prototype._build,{slidebox:function(){var b,c,d,e,f,g,h=this,i=this.options,j=this.drag,k="ui-datebox-",l=a("<div class='"+k+"sliderow-int'></div>"),m=a("<div>"),n=a("<div>",{"class":k+"slide"});for("boolean"!=typeof h.d.intHTML?h.d.intHTML.remove().empty():h.d.input.on("datebox",function(a,b){"postrefresh"===b.method&&h._sbox_pos()}),h.d.headerText=h._grabLabel()!==!1?h._grabLabel():h.__("titleDateDialogLabel"),h.d.intHTML=a("<span class='"+k+"nopad'>"),h.fldOrder=h.__("slideFieldOrder"),h._check(),h._minStepFix(),a("<div class='"+k+"header'><h4>"+h._formatter(h.__("headerFormat"),h.theDate)+"</h4></div>").appendTo(h.d.intHTML),h.d.intHTML.append(n),c=0;c<h.fldOrder.length;c++)if(f=h.fldOrder[c],e=m.clone().addClass(k+"sliderow").data("rowtype",f),d=l.clone().data("rowtype",f).appendTo(e),h.__("isRTL")===!0&&d.css("direction","rtl"),"function"==typeof h._sbox_mktxt[f]){for(b=-1*i.slen[f];b<i.slen[f]+1;b++)g=h._sbox_mktxt[f].apply(h,[b]),a("<div>",{"class":k+"slidebox "+k+g[0]+" ui-btn ui-btn-"+(0===b?i.themeDatePick:i.themeDate)}).html(g[1]).data("offset",b).appendTo(d);e.appendTo(n)}(i.useSetButton||i.useClearButton)&&(c=a("<div>",{"class":k+"controls "+k+"repad"}),i.useSetButton&&c.append(h._stdBtn.close.apply(h,[h.__("setDateButtonLabel")])),i.useClearButton&&c.append(h._stdBtn.clear.apply(h)),i.useCollapsedBut?(c.controlgroup({type:"horizontal"}),c.addClass("ui-datebox-collapse")):c.controlgroup(),c.appendTo(h.d.intHTML)),h.wheelExists&&h.d.intHTML.on("mousewheel",".ui-datebox-sliderow-int",function(b,c){b.preventDefault(),h._offset(a(this).data("rowtype"),(0>c?-1:1)*("i"===a(this).data("rowtype")?i.minuteStep:1))}),h.d.intHTML.on(i.clickEvent,".ui-datebox-sliderow-int>div",function(b){b.preventDefault(),h._offset(a(this).parent().data("rowtype"),parseInt(a(this).data("offset"),10))}),h.d.intHTML.on(j.eStart,".ui-datebox-sliderow-int",function(b){j.move||(j.move=!0,j.target=a(this),j.pos=parseInt(j.target.css("marginLeft").replace(/px/i,""),10),j.start="touch"===b.type.substr(0,5)?b.originalEvent.changedTouches[0].pageX:b.pageX,j.end=!1,b.stopPropagation(),b.preventDefault())})}}),a.extend(a.mobile.datebox.prototype._drag,{slidebox:function(){var b=this,c=this.options,d=this.drag;a(document).on(d.eMove,function(a){return d.move&&"slidebox"===c.mode?(d.end="touch"===a.type.substr(0,5)?a.originalEvent.changedTouches[0].pageX:a.pageX,d.target.css("marginLeft",d.pos+d.end-d.start+"px"),a.preventDefault(),a.stopPropagation(),!1):void 0}),a(document).on(d.eEnd,function(a){d.move&&"slidebox"===c.mode&&(d.move=!1,d.end!==!1&&(a.preventDefault(),a.stopPropagation(),d.tmp=d.target.find("div").first(),b._offset(d.target.data("rowtype"),(b.__("isRTL")?-1:1)*parseInt((d.start-d.end)/d.tmp.innerWidth(),10)*("i"===d.target.data("rowtype")?c.minuteStep:1))),d.start=!1,d.end=!1)})}})}(jQuery);
//# sourceMappingURL=jqm-datebox.mode.slidebox.min.js.map